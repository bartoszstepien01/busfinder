{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/user/set-type":{"post":{"tags":["user-controller"],"operationId":"setUserType","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeUserTypeDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoVoid"}}}}}}},"/user/delete":{"post":{"tags":["user-controller"],"operationId":"deleteUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoVoid"}}}}}}},"/stop/edit":{"post":{"tags":["bus-stop-controller"],"operationId":"editBusStop","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditBusStopDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBusStopResponseDto"}}}}}}},"/stop/delete":{"post":{"tags":["bus-stop-controller"],"operationId":"deleteBusStop","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBusStopDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoVoid"}}}}}}},"/stop/create":{"post":{"tags":["bus-stop-controller"],"operationId":"createBusStop","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBusStopDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBusStopResponseDto"}}}}}}},"/schedule/edit":{"post":{"tags":["schedule-controller"],"operationId":"editSchedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditScheduleDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoScheduleResponseDto"}}}}}}},"/schedule/delete":{"post":{"tags":["schedule-controller"],"operationId":"deleteSchedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteScheduleDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoVoid"}}}}}}},"/schedule/create":{"post":{"tags":["schedule-controller"],"operationId":"createSchedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoScheduleResponseDto"}}}}}}},"/route/edit":{"post":{"tags":["bus-route-controller"],"operationId":"editRoute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditBusRouteDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBusRouteResponseDto"}}}}}}},"/route/delete":{"post":{"tags":["bus-route-controller"],"operationId":"deleteRoute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBusRouteDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoVoid"}}}}}}},"/route/create":{"post":{"tags":["bus-route-controller"],"operationId":"createRoute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBusRouteDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBusRouteResponseDto"}}}}}}},"/auth/signup":{"post":{"tags":["authentication-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoLoginResponseDto"}}}}}}},"/auth/login":{"post":{"tags":["authentication-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoLoginResponseDto"}}}}}}},"/user/all":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoListUserResponseDto"}}}}}}},"/stop/all":{"get":{"tags":["bus-stop-controller"],"operationId":"getAllBusStops","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoListBusStopResponseDto"}}}}}}},"/schedule/all":{"get":{"tags":["schedule-controller"],"operationId":"getAllSchedules","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoListScheduleResponseDto"}}}}}}},"/schedule/":{"get":{"tags":["schedule-controller"],"operationId":"getSchedule","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoScheduleResponseDto"}}}}}}},"/route/all":{"get":{"tags":["bus-route-controller"],"operationId":"getAllRoutes","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoListBusRouteResponseShortDto"}}}}}}},"/route/":{"get":{"tags":["bus-route-controller"],"operationId":"getRoute","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBusRouteResponseDto"}}}}}}}},"components":{"schemas":{"ChangeUserTypeDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["user","driver","admin"]}},"required":["id","type"]},"ApiResponseDtoVoid":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object"},"error":{"type":"string"}},"required":["success"]},"DeleteUserDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"]},"EditBusStopDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"}},"required":["id"]},"LocationDto":{"type":"object","properties":{"latitude":{"type":"number","format":"double","maximum":90.0,"minimum":-90.0},"longitude":{"type":"number","format":"double","maximum":180.0,"minimum":-180.0}}},"ApiResponseDtoBusStopResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/BusStopResponseDto"},"error":{"type":"string"}},"required":["success"]},"BusStopResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"location":{"$ref":"#/components/schemas/LocationDto"}},"required":["id","location","name"]},"DeleteBusStopDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"]},"CreateBusStopDto":{"type":"object","properties":{"name":{"type":"string","minLength":1},"location":{"$ref":"#/components/schemas/LocationDto"}},"required":["location"]},"BusArrivalDto":{"type":"object","properties":{"time":{"type":"string","example":"14:30:00"},"courseNumber":{"type":"integer","format":"int32"},"routeVariantId":{"type":"string","format":"uuid"}},"required":["courseNumber","routeVariantId","time"]},"EditScheduleDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"timetable":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/BusArrivalDto"}}}},"required":["id","timetable"]},"ApiResponseDtoScheduleResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/ScheduleResponseDto"},"error":{"type":"string"}},"required":["success"]},"ScheduleResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"routeId":{"type":"string","format":"uuid"},"dayType":{"type":"string","enum":["workday","saturday","sunday","holiday","special"]},"timetable":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/BusArrivalDto"}}}},"required":["dayType","id","routeId","timetable"]},"DeleteScheduleDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"]},"CreateScheduleDto":{"type":"object","properties":{"routeId":{"type":"string","format":"uuid"},"dayType":{"type":"string","enum":["workday","saturday","sunday","holiday","special"]},"timetable":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/BusArrivalDto"}}}},"required":["dayType","routeId","timetable"]},"EditBusRouteDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"variants":{"type":"array","items":{"$ref":"#/components/schemas/EditRouteVariantDto"},"minItems":1}},"required":["id","name"]},"EditRouteVariantDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"busStopIds":{"type":"array","items":{"type":"string","format":"uuid"},"minItems":1}},"required":["name"]},"ApiResponseDtoBusRouteResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/BusRouteResponseDto"},"error":{"type":"string"}},"required":["success"]},"BusRouteResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"variants":{"type":"array","items":{"$ref":"#/components/schemas/RouteVariantResponseDto"}}},"required":["id","name","variants"]},"RouteVariantResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"standard":{"type":"boolean"},"busStops":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["busStops","id","name","standard"]},"DeleteBusRouteDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"}},"required":["id"]},"CreateBusRouteDto":{"type":"object","properties":{"name":{"type":"string","minLength":1},"busStops":{"type":"array","items":{"type":"string","format":"uuid"},"minItems":1}}},"RegisterUserDto":{"type":"object","properties":{"email":{"type":"string","minLength":1},"password":{"type":"string","maxLength":64,"minLength":8},"name":{"type":"string","minLength":1},"surname":{"type":"string","minLength":1}}},"ApiResponseDtoLoginResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"$ref":"#/components/schemas/LoginResponseDto"},"error":{"type":"string"}},"required":["success"]},"LoginResponseDto":{"type":"object","properties":{"token":{"type":"string"},"expiresIn":{"type":"integer","format":"int64"},"userType":{"type":"string","enum":["user","driver","admin"]}},"required":["expiresIn","token","userType"]},"LoginUserDto":{"type":"object","properties":{"email":{"type":"string","minLength":1},"password":{"type":"string","minLength":1}}},"ApiResponseDtoListUserResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}},"error":{"type":"string"}},"required":["success"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"},"name":{"type":"string"},"surname":{"type":"string"},"userType":{"type":"string","enum":["user","driver","admin"]}},"required":["email","id","name","surname","userType"]},"ApiResponseDtoListBusStopResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/BusStopResponseDto"}},"error":{"type":"string"}},"required":["success"]},"ApiResponseDtoListScheduleResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ScheduleResponseDto"}},"error":{"type":"string"}},"required":["success"]},"ApiResponseDtoListBusRouteResponseShortDto":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"array","items":{"$ref":"#/components/schemas/BusRouteResponseShortDto"}},"error":{"type":"string"}},"required":["success"]},"BusRouteResponseShortDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}},"required":["id","name"]}}}}